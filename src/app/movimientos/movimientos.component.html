<ngx-loading [show]='loading' [config]="{ backdropBorderRadius: '14px', fullScreenBackdrop: true }"></ngx-loading>

<!-- Page Header-->
<header class="page-header">
    <div class="container-fluid">
        <h2 class="no-margin-bottom">Movimientos</h2>
    </div>
</header>
<!-- Breadcrumb-->
<div class="breadcrumb-holder container-fluid">
    <ul class="breadcrumb">
        <li class="breadcrumb-item">
            <a>Home</a>
        </li>
        <li class="breadcrumb-item active">Movimientos</li>
    </ul>
</div>

<!-- Forms Section-->
<section class="forms" *ngIf="!verDat">
    <div class="container-fluid">
        <div class="row">
                    <!-- Inline Form-->
                    <div class="col-lg-12">
                      <div class="card">
                        <div class="card-close">
                          <div class="dropdown">
                            <button type="button" id="closeCard3" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle">
                              <i class="fa fa-ellipsis-v"></i>
                            </button>
                            <div aria-labelledby="closeCard3" class="dropdown-menu dropdown-menu-right has-shadow">
                              <a href="#" class="dropdown-item remove">
                                <i class="fa fa-times"></i>Close</a>
                              <a href="#" class="dropdown-item edit">
                                <i class="fa fa-gear"></i>Edit</a>
                            </div>
                          </div>
                        </div>
                        <div class="card-header d-flex align-items-center">
                          <h3 class="h4">Formulario de Movimientos</h3>
                        </div>
                        <div class="card-body">
                          <form class="form-inline">
                            <div class="form-group">
                              <label for="inlineFormInput" class="sr-only">Fecha Inicio</label>
                              <ng-datepicker name="inicio" [(ngModel)]="date.inicio" [options]="options"></ng-datepicker>
                            </div>
                            <div class="form-group">
                              <label for="inlineFormInputGroup" class="sr-only">Fecha Fin</label>
                              <ng-datepicker name="fin" [(ngModel)]="date.fin" [options]="options"></ng-datepicker>
                            </div>
                            <div class="form-group">
                              <button type="button" class="btn btn-primary btn-block" (click)="buscar(date)"> Buscar </button>
                            </div>
                          </form>
                        </div>
                      </div>
              </div>
        </div>
    </div>
</section>


<section class="tables" *ngIf="verDat">
<div class="container-fluid">
  <div class="row">
<div class="col-lg-12 col-md-12 col-sm-12">
  <div class="card">
    <div class="card-header d-flex align-items-center">
      <h3 class="h4">Fechas de Busqueda <br> 
        Inicio: {{ date.inicio | date: 'dd/MM/yyyy' }}  <br>  
        Fin: {{ date.fin | date: 'dd/MM/yyyy'}} <br>
        Fondos: {{ datos.disponible }}
      </h3>
    </div>
    <div class="card-body">
      <table class="table table-striped table-sm">
        <thead>
          <tr>
            <th style="width: 5%">#</th>
            <th class="text-center" style="width: 10%">Deposito</th>
            <th class="text-center" style="width: 10%">Retiro</th>
            <th class="text-center" style="width: 15%">Fecha</th>
            <th class="text-center">Comentario</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of datos.movimiento ; let i = index ">
            <th scope="row">{{ i + 1 }}</th>
            <td class="text-center"><strong class="text-success"> {{ data.deposito }} </strong></td>
            <td class="text-center"> <strong class="text-danger"> {{ data.retiro }}  </strong> </td>
            <td class="text-center"> {{ data.creado | date: 'dd/MM/yyyy hh:mm a' }} </td>
            <td class="text-center"> {{ data.comentario }} </td>
          </tr>
          <tr>
            <td colspan="5">
              <button type="button" class="btn btn-info btn-sm pull-right" (click)="volver()"> <i class="fa fa-refresh"></i> Volver </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
</div>
</div>
</section>

